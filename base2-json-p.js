/*
  base2 - copyright 2007-2008, Dean Edwards
  http://code.google.com/p/base2/
  http://www.opensource.org/licenses/mit-license.php

  Contributors:
    Doeke Zanstra
*/
new function(_0){var JSON=new base2.Package(this,{name:"JSON",imports:"Enumerable",version:"0.9",VALID:/^("(\\.|[^"\\\n\r])*"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])*$/,copy:function(a){return this.parse(this.toString(a))},parse:function(a){return this.String.parseJSON(a)}});eval(this.imports);JSON.toString=function(c){if(arguments.length==0)return"[base2.JSON]";var d=this.Object;try{forEach(this,function(a,b){if(JSON.Object.ancestorOf(a)&&instanceOf(c,global[b])){d=a;throw StopIteration;}})}catch(error){if(error!=StopIteration)throw error;}return d.toJSONString(c)};JSON.Object=Module.extend({toJSONString:function(d){return d==null?"null":"{"+reduce(d,function(a,b,c){if(JSON.Object.isValid(b)){a.push(JSON.String.toJSONString(c)+":"+JSON.toString(b))}return a},[]).join(",")+"}"}},{VALID_TYPE:/^(object|boolean|number|string)$/,isValid:function(a){return this.VALID_TYPE.test(typeof a)}});JSON.Array=JSON.Object.extend({toJSONString:function(c){return"["+reduce(c,function(a,b){if(JSON.Object.isValid(b)){a.push(JSON.toString(b))}return a},[]).join(",")+"]"}});JSON.Boolean=JSON.Object.extend({toJSONString:function(a){return String(a)}});JSON.Date=JSON.Object.extend({toJSONString:function(b){var c=function(a){return a<10?"0"+a:a};return'"'+b.getUTCFullYear()+"-"+c(b.getUTCMonth()+1)+"-"+c(b.getUTCDate())+"T"+c(b.getUTCHours())+":"+c(b.getUTCMinutes())+":"+c(b.getUTCSeconds())+'Z"'}});JSON.Number=JSON.Object.extend({toJSONString:function(a){return isFinite(a)?String(a):"null"}});JSON.String=JSON.Object.extend({parseJSON:function(a){try{if(JSON.VALID.test(a)){return new Function("return "+a)()}}catch(error){throw new SyntaxError("parseJSON");}return""},toJSONString:function(a){return'"'+this.ESCAPE.exec(a)+'"'}},{ESCAPE:new RegGrp({'\b':'\\b','\\t':'\\t','\\n':'\\n','\\f':'\\f','\\r':'\\r','"':'\\"','\\\\':'\\\\','[\\x00-\\x1f]':function(a){var b=a.charCodeAt(0);return'\\u00'+Math.floor(b/16).toString(16)+(b%16).toString(16)}})});eval(this.exports)};